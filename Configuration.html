
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Configuration &#8212; AIDA-TLU  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Configuration';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Documentation" href="Documentation.html" />
    <link rel="prev" title="AIDA-TLU" href="Introduction.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.2.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">AIDA-TLU  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="Introduction.html">
    AIDA-TLU
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="Documentation.html">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="hardware_code.html">
    Hardware Level
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="main_code.html">
    Main Level
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="Introduction.html">
    AIDA-TLU
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="Documentation.html">
    Documentation
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="hardware_code.html">
    Hardware Level
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="main_code.html">
    Main Level
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Configuration</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Configuration</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internal-trigger-generation-internal-trigger">Internal Trigger Generation (internal_trigger)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dut-module-dut-module">DUT Module (dut_module)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#trigger-inputs-trigger-inputs">Trigger Inputs (trigger_inputs)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#clock-lemo-clock-lemo">Clock LEMO (clock_lemo)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pmt-power-pmt-control">PMT Power (pmt_control)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-handling-and-online-monitor">Data Handling and Online Monitor</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stop-conditions">Stop Conditions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration-with-yaml">Configuration with yaml</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuration-with-toml">Configuration with toml</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>
        <div class="sidebar-primary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Configuration.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item"><nav class="sidebar-indices-items" aria-labelledby="pst-indices-navigation-heading-2">
  <p id="pst-indices-navigation-heading-2" class="sidebar-indices-items__title" role="heading" aria-level="1">Indices</p>
  <ul class="indices-link">
        <li class="toctree-l1">
          <a class="reference internal"
             href="genindex.html"
             accesskey="I">General Index</a>
        </li>
  </ul>
</nav></div>
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Configuration</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">#</a></h1>
</section>
<section id="id1">
<h1>Configuration<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>The AIDA-2020 TLU is configured using a yaml file (tlu_configuration.yaml).
In the following, the possible configuration parameters and settings are briefly explained.</p>
<section id="internal-trigger-generation-internal-trigger">
<h2>Internal Trigger Generation (internal_trigger)<a class="headerlink" href="#internal-trigger-generation-internal-trigger" title="Link to this heading">#</a></h2>
<p>The setting internal trigger allows the TLU to generate a trigger internally with a given frequency.
To disable the generation of internal triggers set this frequency to zero.</p>
</section>
<section id="dut-module-dut-module">
<h2>DUT Module (dut_module)<a class="headerlink" href="#dut-module-dut-module" title="Link to this heading">#</a></h2>
<p>The DUT module configures the individual DUT interfaces.
Where each interface can be set to one operating mode.
The possible modes are ‘aida’, ‘aidatrig’ and ‘eudet’.
With ‘aidatrig’ the AIDA mode with additional trigger number.
And ‘aida’ or ‘eudet’ the AIDA or EUDET operating modes.
It is important to note that only working DUT devices should be enabled.
One not properly working DUT can block the TLU from sending out triggers (especially in EUDET mode).</p>
</section>
<section id="trigger-inputs-trigger-inputs">
<h2>Trigger Inputs (trigger_inputs)<a class="headerlink" href="#trigger-inputs-trigger-inputs" title="Link to this heading">#</a></h2>
<p>Multiple settings of the trigger inputs are configurable.
This includes trigger input thresholds, trigger logic, trigger polarity and trigger signal shaping.</p>
<p>The threshold for each trigger input can be tuned individually between [-1.3; 1.3] V.</p>
<p>Another setting controls the trigger input logic.
Each trigger input can have one of three settings. The input can act as ‘active’, ‘veto’ or ‘do not care’.
Between each trigger input, there is also the possibility to set ‘AND’ or ‘OR’.
A desired trigger configuration is set with the use of the Python boolean operators.
These operators are used in conjunction with the input channels CH1-CH6 and interpreted as a literal logic expression.
For example “(CH1 &amp; (not CH2)) and (CH3 or CH4 or CH5 or CH6)” produces a valid trigger, when CH1 and not CH2 triggers and when one of CH3, CH4, CH5 or CH6 triggers.
An input channel that is not explicitly set to ‘veto’ or ‘enabled’ is automatically set to ‘do not care’.</p>
<p>TLU can trigger on a rising or falling edge. Trigger polarity is set using a string or boolean,
‘rising’ corresponds to false (0) and ‘falling’ to true (1)</p>
<p>Each trigger input signal can be delayed and stretched by a given number of clock cycles.
This is set with a list containing the number of clock cycles for every different trigger input.
This value is written in a 5-bit register so the maximum stretch or delay in clock cycles is 32.
One should stretch each used trigger input signal at least by 1 to prevent the generation of incomplete triggers.</p>
</section>
<section id="clock-lemo-clock-lemo">
<h2>Clock LEMO (clock_lemo)<a class="headerlink" href="#clock-lemo-clock-lemo" title="Link to this heading">#</a></h2>
<p>The clock LEMO setting enables or disables the clock LEMO output.
Set this to ‘True’ or ‘False’.</p>
</section>
<section id="pmt-power-pmt-control">
<h2>PMT Power (pmt_control)<a class="headerlink" href="#pmt-power-pmt-control" title="Link to this heading">#</a></h2>
<p>Set the PMT control voltage. The possible range is between [0; 1] V.</p>
</section>
<section id="data-handling-and-online-monitor">
<h2>Data Handling and Online Monitor<a class="headerlink" href="#data-handling-and-online-monitor" title="Link to this heading">#</a></h2>
<p>Two settings concern the data handling. The creation of raw and interpreted data files.
At last, the ZMQ connection can be configured.</p>
</section>
<section id="stop-conditions">
<h2>Stop Conditions<a class="headerlink" href="#stop-conditions" title="Link to this heading">#</a></h2>
<p>Two optional stop conditions can be set in tlu_configuration.yaml.
The maximum number of trigger events (max_trigger_number, e.g. max_trigger_number: 1000000)
and a timeout in seconds (timeout, e.g. timeout: 100) can be set.
These configurations are not included by default in the tlu_configuration file, so add them manually if needed.</p>
<section id="configuration-with-yaml">
<h3>Configuration with yaml<a class="headerlink" href="#configuration-with-yaml" title="Link to this heading">#</a></h3>
<p>Example configuration using the yaml file format.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate TLU internal trigger with given rate in Hz</span>
<span class="nt">internal_trigger_rate</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="c1"># Set operating mode of the DUT, supported are three operating modes &#39;aida&#39;, &#39;aidatrig&#39; and &#39;eudet&#39;</span>
<span class="c1"># Set unused DUT interfaces to off, false or None</span>
<span class="nt">dut_module</span><span class="p">:</span>
<span class="w">  </span><span class="nt">dut_1</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aida</span>
<span class="w">  </span><span class="nt">dut_2</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aida</span>
<span class="w">  </span><span class="nt">dut_3</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eudet</span>
<span class="w">  </span><span class="nt">dut_4</span><span class="p">:</span>
<span class="w">    </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span>

<span class="nt">trigger_inputs</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># Threshold voltages for the trigger inputs in V.</span>
<span class="w">  </span><span class="nt">threshold</span><span class="p">:</span>
<span class="w">    </span><span class="nt">threshold_1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-0.1</span>
<span class="w">    </span><span class="nt">threshold_2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-0.1</span>
<span class="w">    </span><span class="nt">threshold_3</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-0.1</span>
<span class="w">    </span><span class="nt">threshold_4</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-0.1</span>
<span class="w">    </span><span class="nt">threshold_5</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-0.1</span>
<span class="w">    </span><span class="nt">threshold_6</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-0.1</span>

<span class="w">  </span><span class="c1"># Trigger Logic configuration accept a python expression for the trigger inputs.</span>
<span class="w">  </span><span class="c1"># The logic is set by using the variables for the input channels &#39;CH1&#39;, &#39;CH2&#39;, &#39;CH3&#39;, &#39;CH4&#39;, &#39;CH5&#39; and &#39;CH6&#39;</span>
<span class="w">  </span><span class="c1"># and the Python logic operators: &#39;and&#39;, &#39;or&#39;, &#39;not&#39; and so on. Dont forget to use brackets...</span>
<span class="w">  </span><span class="nt">trigger_inputs_logic</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;CH1</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">CH2&#39;</span>

<span class="w">  </span><span class="c1"># TLU can trigger on a rising or falling edge. Trigger polarity is set using a string or boolean,</span>
<span class="w">  </span><span class="c1"># &#39;rising&#39; corresponds to false and &#39;falling&#39; to true</span>
<span class="w">  </span><span class="nt">trigger_polarity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">falling</span>

<span class="w">  </span><span class="c1"># Stretches and delays each trigger input signal for an number of clock cycles (corresponds to 6.25ns steps),</span>
<span class="w">  </span><span class="c1"># The stretch and delay of all inputs is given as a list,</span>
<span class="w">  </span><span class="c1"># each entry corresponding to an individual trigger input.</span>
<span class="w">  </span><span class="nt">trigger_signal_shape</span><span class="p">:</span>
<span class="w">    </span><span class="nt">stretch</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">delay</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">]</span>

<span class="c1"># Enable the LEMO clock output using a boolean.</span>
<span class="nt">enable_clock_lemo_output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="c1"># Set the four PMT control voltages in V</span>
<span class="nt">pmt_control</span><span class="p">:</span>
<span class="w">  </span><span class="nt">pmt_1</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.8</span>
<span class="w">  </span><span class="nt">pmt_2</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.8</span>
<span class="w">  </span><span class="nt">pmt_3</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">  </span><span class="nt">pmt_4</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="c1"># Save and generate interpreted data from the raw data set. Set to &#39;True&#39; or &#39;False&#39;.</span>
<span class="c1"># If no specific output path is provided, the data is saved in the default output data path (aidatlu/aidatlu/tlu_data).</span>
<span class="nt">save_data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="nt">output_data_path</span><span class="p">:</span>

<span class="c1"># zmq connection for status messages, leave it blank or set to off if not needed</span>
<span class="nt">zmq_connection</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">off</span><span class="w"> </span><span class="c1">#&quot;tcp://:7500&quot;</span>

<span class="c1"># Optional stop conditions these can be by timeout in seconds or a maximum output trigger number.</span>
<span class="nt">max_trigger_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
</pre></div>
</div>
</section>
<section id="configuration-with-toml">
<h3>Configuration with toml<a class="headerlink" href="#configuration-with-toml" title="Link to this heading">#</a></h3>
<p>The TLU can be configured using the toml file format.
An example can be found below.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">internal_trigger_rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100000</span>
<span class="n">dut_interfaces</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;aida&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eudet&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;aidatrig&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;off&#39;</span><span class="p">]</span>

<span class="n">trigger_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">-0.1</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.2</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.4</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.6</span><span class="p">]</span>
<span class="n">trigger_inputs_logic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;(CH1 and (not CH2) and (not CH3) and (not CH4) and (CH5) and (not CH6))&#39;</span>
<span class="n">trigger_polarity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;falling&#39;</span>
<span class="n">trigger_signal_stretch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span>
<span class="n">trigger_signal_delay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span>

<span class="n">enable_clock_lemo_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;True&#39;</span>
<span class="n">pmt_power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mf">0.8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.2</span><span class="p">]</span>
<span class="n">save_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;True&#39;</span>
<span class="n">output_data_path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;aidatlu/test/fixtures/test_output_data/&#39;</span>
<span class="n">zmq_connection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;False&#39;</span>

<span class="c1"># Optional stop conditions can also be added to the configuration.</span>
<span class="c1"># These can be by timeout in seconds or a maximum output trigger number.</span>
<span class="n">max_trigger_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;None&#39;</span>
<span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</pre></div>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Introduction.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">AIDA-TLU</p>
      </div>
    </a>
    <a class="right-next"
       href="Documentation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Documentation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, SiLab, Institute of Physics, University of Bonn.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>